<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AURUM‚àû ¬∑ Numerolog√≠a Vibracional</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="lemuria.css">
</head>
<body>
<header>
  <h1>üîµ Numerolog√≠a Vibracional</h1>
</header>
<main>
  <section class="card">
    <form id="form-numerologia">
      <label>Nombre completo:</label>
      <input type="text" id="nombre" required>
      <label>Fecha de nacimiento:</label>
      <input type="date" id="fecha" required>
      <button type="submit">Calcular</button>
    </form>
  </section>

  <section id="resultado" class="card" style="display:none;">
    <div id="mensaje-dia"></div>
    <div id="acciones-sugeridas"></div>
    <hr>
    <div id="detalle-calculos"></div>
  </section>
</main>

<script>
// Funciones auxiliares
function sumaDigitos(num) {
  while (num > 9 && num !== 11 && num !== 22 && num !== 33) {
    num = num.toString().split('').reduce((a, b) => a + Number(b), 0);
  }
  return num;
}

function valorNombre(nombre) {
  const mapa = {A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,I:9,
                J:1,K:2,L:3,M:4,N:5,O:6,P:7,Q:8,R:9,
                S:1,T:2,U:3,V:4,W:5,X:6,Y:7,Z:8};
  return nombre.toUpperCase().replace(/[^A-Z]/g, '')
              .split('').reduce((a, l) => a + (mapa[l] || 0), 0);
}

function soloVocales(nombre) {
  return nombre.toUpperCase().replace(/[^AEIOU√Å√â√ç√ì√ö√ú]/g, '');
}

function soloConsonantes(nombre) {
  return nombre.toUpperCase().replace(/[^A-Z]/g, '')
              .replace(/[AEIOU√Å√â√ç√ì√ö√ú]/g, '');
}

document.getElementById('form-numerologia').addEventListener('submit', function(e){
  e.preventDefault();
  
  const nombre = document.getElementById('nombre').value.trim();
  const fechaStr = document.getElementById('fecha').value;

  // ‚úÖ Arreglo para evitar el bug de la fecha que retrocede un d√≠a
  const m = /^(\d{4})-(\d{2})-(\d{2})$/.exec(fechaStr || "");
  if(!m){ alert("Revisa la fecha (formato YYYY-MM-DD)."); return; }
  const yyyy = Number(m[1]), mm = Number(m[2]), dd = Number(m[3]);

  // C√°lculos numerol√≥gicos
  const caminoVida = sumaDigitos(dd + mm + yyyy);
  const destino = sumaDigitos(valorNombre(nombre));
  const alma = sumaDigitos(valorNombre(soloVocales(nombre)));
  const personalidad = sumaDigitos(valorNombre(soloConsonantes(nombre)));

  const hoy = new Date();
  const anioPersonal = sumaDigitos(mm + dd + hoy.getFullYear());
  const mesPersonal = sumaDigitos(anioPersonal + (hoy.getMonth() + 1));
  const diaPersonal = sumaDigitos(mesPersonal + hoy.getDate());

  // Mensajes diarios seg√∫n vibraci√≥n (ejemplo b√°sico)
  let mensaje = "";
  let acciones = [];
  if(diaPersonal === 1){
    mensaje = "Inicio y energ√≠a. Toma acci√≥n y avanza en tus metas.";
    acciones = ["Inicia un nuevo proyecto", "Toma decisiones", "Act√∫a con confianza"];
  }
  else if(diaPersonal === 9){
    mensaje = "Cierre y prop√≥sito. Termina ciclos, depura y comparte valor.";
    acciones = ["Entrega algo terminado", "Agradece y reconoce apoyos", "Suelta lo que ya cumpli√≥ su rol"];
  }
  else {
    mensaje = "D√≠a para mantener equilibrio y enfocarte en lo que m√°s importa.";
    acciones = ["Organiza tu espacio", "Conversa con alguien importante", "Medita unos minutos"];
  }

  // Mostrar resultados
  document.getElementById('mensaje-dia').innerHTML = `
    <p><strong>${mensaje}</strong></p>
    <p>Nombre: <strong>${nombre}</strong> ¬∑ Hoy: ${dd}/${mm}/${yyyy}</p>
  `;

  document.getElementById('acciones-sugeridas').innerHTML = `
    <h4>Acciones sugeridas</h4>
    <ul>${acciones.map(a => `<li>${a}</li>`).join('')}</ul>
  `;

  document.getElementById('detalle-calculos').innerHTML = `
    <h4>Detalle de c√°lculos</h4>
    <p>Nombre: ${nombre}</p>
    <p>Fecha: ${yyyy}-${String(mm).padStart(2,'0')}-${String(dd).padStart(2,'0')}</p>
    <p>Camino de vida: ${caminoVida}</p>
    <p>Destino/Expresi√≥n: ${destino}</p>
    <p>Alma: ${alma}</p>
    <p>Personalidad: ${personalidad}</p>
    <p>A√±o personal: ${anioPersonal} | Mes personal: ${mesPersonal} | D√≠a personal: ${diaPersonal}</p>
  `;

  document.getElementById('resultado').style.display = 'block';
});
</script>

<footer>
  <p>¬© 2025 AURUM‚àû ¬∑ M√≥dulo de Numerolog√≠a Vibracional</p>
</footer>
</body>
</html>