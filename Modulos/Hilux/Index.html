<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Toyota Hilux 3D • AURUM∞</title>

  <!-- model-viewer (visor 3D) -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  <!-- Estilos rápidos (puedes moverlos a Hilux.css cuando quieras) -->
  <style>
    :root{
      --bg:#0d0d0d; --panel:#111; --text:#f5f5f5; --brand:#ffd700;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui, Arial, sans-serif;background:var(--bg);color:var(--text)}
    header{padding:14px 18px;background:linear-gradient(90deg,#b8860b,#ffd700);color:#0d0d0d;font-weight:700}
    header h1{margin:0;font-size:1.15rem;letter-spacing:.5px}
    main{max-width:1200px;margin:20px auto;padding:0 16px}
    .viewer-wrap{width:100%;height:70vh;border-radius:16px;overflow:hidden;background:#1a1a1a}
    model-viewer{width:100%;height:100%}

    /* Barra de progreso del visor */
    .progress {position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
      width:min(320px,70vw); height:6px; background:#333; border-radius:999px; overflow:hidden}
    .progress>div{height:100%; width:0%; background:var(--brand); transition:width .2s}

    .legend{margin-top:18px;background:var(--panel);border:1px solid #222;border-radius:12px;padding:14px}
    .legend h3{margin:0 0 8px 0; font-size:1rem; color:#ffd700}
    .legend code{background:#222;padding:.1rem .35rem;border-radius:6px}
    .foot{opacity:.7;text-align:center;margin:22px 0 12px}
    a{color:#ffd700;text-decoration:none}
  </style>
</head>

<body>
  <header><h1>Hilux 3D • AURUM∞</h1></header>

  <main>
    <div class="viewer-wrap">
      <model-viewer
        src="hilux.glb"
        alt="Modelo 3D Toyota Hilux"
        ar ar-modes="webxr scene-viewer quick-look"
        camera-controls
        interaction-prompt="auto"

        <!-- Inicio de cámara y límites de zoom -->
        camera-orbit="0deg 75deg 3.5m"
        min-camera-orbit="auto auto 1.2m"
        max-camera-orbit="auto auto 7m"
        min-field-of-view="15deg"
        max-field-of-view="60deg"

        exposure="1"
        shadow-intensity="1"
        environment-image="neutral"
        poster=""
        >
        <!-- Barra de carga -->
        <div slot="progress-bar" class="progress" aria-label="Cargando modelo…">
          <div id="bar"></div>
        </div>
        <div slot="ar-button">Ver en AR</div>
      </model-viewer>
    </div>

    <section class="legend">
      <h3>Indicaciones</h3>
      <ul>
        <li>Coloca el archivo <strong>hilux.glb</strong> en <code>Modulos/Hilux/</code> (junto a este <code>Index.html</code>).</li>
        <li>Gira con el dedo/mouse y usa scroll o pinch para <strong>zoom</strong>.</li>
        <li>Si luego deseas desactivar el zoom, quita el atributo <code>camera-controls</code> o ajusta los límites.</li>
      </ul>
    </section>

    <p class="foot">© AURUM∞ — <a href="../../modulos.html">Volver a Módulos</a></p>
  </main>

  <script>
    // Animar barra de progreso (opcional, pero bonito)
    const mv = document.querySelector('model-viewer');
    const bar = document.getElementById('bar');
    mv.addEventListener('progress', e => {
      const v = Math.round(e.detail.totalProgress * 100);
      bar.style.width = v + '%';
    });
  </script>
</body>
</html>