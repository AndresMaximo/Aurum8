<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>AURUM∞ • Recursos Humanos</title>
  <link href="https://fonts.googleapis.com/css2?family=Oxanium:wght@300;400;600&family=Rajdhani:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/aurum-theme.css"/>
  <style>
    .wrap{max-width:1100px;margin:40px auto;padding:24px}
    header h1{margin:0 0 14px 0;font-family:var(--brand);letter-spacing:.08em;color:var(--ink)}
    table{width:100%;border-collapse:collapse;background:rgba(0,0,0,.25);border:1px solid var(--gold-20);border-radius:12px;overflow:hidden}
    th,td{padding:10px 12px;border-bottom:1px solid var(--line)}
    th{text-align:left;font:600 12px var(--ui);letter-spacing:.12em;text-transform:uppercase;color:var(--ink)}
    tr:last-child td{border-bottom:none}
    .btn{display:inline-block;padding:8px 12px;border-radius:10px;border:1px solid var(--gold-20);text-decoration:none;color:var(--ink)}
    .actions{display:flex;gap:8px}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Recursos Humanos</h1>
      <p class="muted">Ejemplo de nómina local (puedes conectar a Supabase más adelante).</p>
    </header>

    <table id="tabla">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>RUT / ID</th>
          <th>Cargo</th>
          <th>Fecha Nac.</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody id="tbody"></tbody>
    </table>
  </div>

  <script>
    const dataEjemplo = [
      { nombre:"IGNACIO ANDRÉS SALAZAR ESCOBAR", rut:"XX.XXX.XXX-X", cargo:"Supervisor", fecha_nac:"1989-04-09" },
      { nombre:"EVELYN GLORIA SILVA MONDACA", rut:"YY.YYY.YYY-Y", cargo:"Operadora", fecha_nac:"1982-04-11" }
    ];

    function diagnosticoURL(persona){
      const q = new URLSearchParams({
        nombre: persona.nombre || '',
        fechaNac: persona.fecha_nac || '',
        fechaHoy: new Date().toISOString().slice(0,10)
      });
      return `/Modulos/numerologia/index.html?${q.toString()}`;
    }

    function renderFila(p){
      const tr=document.createElement('tr');
      tr.innerHTML = `
        <td>${p.nombre}</td>
        <td>${p.rut}</td>
        <td>${p.cargo}</td>
        <td>${p.fecha_nac||''}</td>
        <td class="actions">
          <a class="btn" href="${diagnosticoURL(p)}">Informe numerológico</a>
        </td>`;
      return tr;
    }

    const tbody = document.getElementById('tbody');
    dataEjemplo.forEach(p=>tbody.appendChild(renderFila(p)));
  </script>
</body>
</html>