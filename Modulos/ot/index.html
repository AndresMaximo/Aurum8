<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Órdenes de Trabajo</title>
<style>
  body{margin:0;font-family:Orbitron,sans-serif;background:#000;color:#d8f3dc}
  main{max-width:1100px;margin:24px auto;padding:0 20px}
  .panel{border:1px solid rgba(120,255,255,.2);border-radius:14px;padding:16px;background:rgba(255,255,255,.03);margin-bottom:16px}
  label{display:block;margin:8px 0 4px}
  input,select{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(120,255,255,.25);background:#020b0b;color:#d8f3dc}
  button{margin-top:10px;padding:10px 14px;border-radius:10px;border:1px solid rgba(120,255,255,.3);background:#00f5d4;color:#001219;font-weight:700;cursor:pointer}
  table{width:100%;border-collapse:collapse;margin-top:10px}
  th,td{border-bottom:1px solid rgba(120,255,255,.15);padding:8px;text-align:left}
</style>
</head>
<body>
<link rel="stylesheet" href="/common/topbar.css">
<div id="topbar"></div>
<script>fetch('/common/topbar.html').then(r=>r.text()).then(h=>document.getElementById('topbar').innerHTML=h)</script>

<main>
  <h2>Órdenes de Trabajo</h2>

  <div class="panel">
    <h3>Nueva OT</h3>
    <label>Equipo</label><input id="equipo" placeholder="Hilux / Bomba / Feeder / etc">
    <label>Tipo</label>
    <select id="tipo">
      <option>Inspección</option><option>Mantenimiento</option><option>Reparación</option>
    </select>
    <button onclick="crear()">Crear OT (local)</button>
  </div>

  <div class="panel">
    <h3>Listado (local)</h3>
    <table><thead><tr><th>ID</th><th>Equipo</th><th>Tipo</th><th>Estado</th></tr></thead>
      <tbody id="rows"></tbody></table>
    <small>Nota: Persistencia real se activará cuando conectemos el backend.</small>
  </div>
</main>

<script>
const rows = document.getElementById('rows');
function crear(){
  const id = Math.random().toString(36).slice(2,8).toUpperCase();
  const eq = document.getElementById('equipo').value.trim() || 'Equipo';
  const tp = document.getElementById('tipo').value;
  const tr = document.createElement('tr');
  tr.innerHTML = `<td>${id}</td><td>${eq}</td><td>${tp}</td><td>pendiente</td>`;
  rows.prepend(tr);
}
</script>
</body>
</html>